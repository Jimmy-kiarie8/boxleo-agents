<ion-header class="ion-no-border">
  <ion-toolbar color="primary" no-border>

    <ion-title>Order Info
      <ion-icon name="information-circle"></ion-icon>
    </ion-title>

  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" *ngIf="order" [scrollEvents]="true">

  <ng-template *ngIf="type === 'show';else templateName">
    <ion-card style="background: #fef4e6">
      <ion-card-content>
        <b style="color: #e67a29">Make your day fabulous with our hassle-free delivery app.</b>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title><b>ORDER ID</b>
          <ion-icon color="dark" name="information-circle"></ion-icon>
          <span style="float: right;font-size: 13px;color: #999;"># {{ order.order_no }}</span>
        </ion-card-title>
        <!-- <ion-card-subtitle></ion-card-subtitle> -->
      </ion-card-header>

      <ion-card-content>
        <ion-list lines="none">
          <ion-item>
            <ion-avatar slot="start">
              <ion-icon name="location"></ion-icon>
            </ion-avatar>
            <ion-label>
              <b>Delivery address</b>
              <p>{{ order.client.address }}</p>
            </ion-label>
            <!-- <ion-label slot="end">
            <ion-icon color="medium" name="time"></ion-icon> ETA: {{ eta  | date:'shortTime' }}
          </ion-label> -->
          </ion-item>

          <!-- <ion-item>
          <ion-label>
            <ion-icon color="primary" name="cash"></ion-icon> {{ order.total_price }}
          </ion-label>
          <ion-label>
            <ion-icon color="medium" name="navigate-sharp"></ion-icon>{{ distance | number : '1.2-2' }} km
          </ion-label>
          <ion-label>
            <ion-icon color="medium" name="time-sharp"></ion-icon>{{ duration }}
          </ion-label>
        </ion-item> -->
        </ion-list>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-subtitle>Product info
          <ion-icon color="dark" name="information-circle"></ion-icon>
        </ion-card-subtitle>
        <ion-card-title>Products</ion-card-title>
      </ion-card-header>

      <ion-card-content *ngIf="order">
        <ion-list *ngFor="let item of order.products">
          <ion-item>
            <ion-avatar slot="start">
              <ion-icon name="basket-outline"></ion-icon>
            </ion-avatar>
            <ion-label><b>{{ item.product_name }}</b>
              <p>Quantity: {{ item.pivot.quantity_tobe_delivered }}</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-subtitle>Delivery info
          <ion-icon color="dark" name="information-circle"></ion-icon>
        </ion-card-subtitle>
        <ion-card-title>Client</ion-card-title>
      </ion-card-header>


      <ion-card-content>
        <ion-list>
          <ion-item>
            <ion-avatar slot="start">
              <ion-icon name="person-circle"></ion-icon>
            </ion-avatar>
            <ion-label>{{ order.client.name }}
              <p>{{ order.client.address }}</p>
            </ion-label>
            <ion-label slot="end">
              <ion-badge>{{ order.client.phone }}</ion-badge>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-subtitle>Payment info
          <ion-icon color="dark" name="information-circle"></ion-icon>
        </ion-card-subtitle>
        <ion-card-title>Payments</ion-card-title>
      </ion-card-header>


    </ion-card>

  </ng-template>


  <ng-template #templateName>
    <ion-content class="ion-padding" *ngIf="type === 'comment';else statusTemplate">
      <ion-card>
        <ion-card-content>
          <ion-textarea label="Comment" labelPlacement="floating" fill="outline" placeholder="Enter text"
            [(ngModel)]="formData.comment"></ion-textarea>
        </ion-card-content>

        <ion-button fill="outline" (click)="comment()">Comment</ion-button>

      </ion-card>
    </ion-content>

    <ng-template #statusTemplate><ion-card>
        <ion-card-content>
          <ion-select placeholder="Status" fill="outline">
            <ion-select-option *ngFor="let item of statuses" [value]="item">{{item}}</ion-select-option>
          </ion-select>

          <ion-textarea label="Comment" labelPlacement="floating" fill="outline" placeholder="Enter text"
            [(ngModel)]="formData.comment"></ion-textarea>
        </ion-card-content>
        <ion-button fill="outline" (click)="comment()">Update</ion-button>
      </ion-card>
    </ng-template>
  </ng-template>

</ion-content>

<ion-footer color="primary">
  <!-- <section style="text-align: center;">
    <ion-button color="dark" [routerLink]="'/return/' + id">Return</ion-button>
    <ion-button color="success" [routerLink]="'/order/' + id">Complete</ion-button>
  </section> -->

</ion-footer>
